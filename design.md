# Design

本ドキュメントは、このリポジトリにおける設計上の判断・試行錯誤・代替案・仮説を記録する。  
`architecture.md` が「壊してはいけない構造」を定義するのに対し、ここでは **変わりうる設計**を扱う。

- 未確定な部分は「仮」と明示して進めてよい
- 迷い・代替案・却下した案も価値として残す
- 決定事項が安定してきたら `architecture.md` や README へ昇格させる

---

## 目的と作りたいゲームの方向性（暫定）

- 目的: 学習・検証を通じて、ゲーム開発の設計力と開発者体験（DX）を高める
- 題材: 2D 物理シミュレーション系（例: 粉遊び的な“物理現象を遊べる”ゲーム）
- 重要視する点:
  - 「現象の面白さ」を追加しやすい拡張性
  - テスト可能なロジック設計（core / logic を中心に）
  - 実装の失敗を歓迎し、試行錯誤のコストを下げる

---

## 設計の優先順位（再掲・運用ルール）

- 正しさ > 速さ > 短さ
- レイヤー境界を破らない（runtime → logic → core）
- 変更は段階的に行い、差分を小さく保つ
- コメントは「なぜ」を書く（「何を」は名前で表す）
- 公開 API には rustdoc と `# Examples` を原則付ける

---

## 主要コンセプト（仮）

### エンティティの考え方
- （仮）ゲーム内の「粒子」「流体」「壁」「熱源」などを、概念として `game_core` に置く
- それらをどう更新するか（ルール）は `game_logic` に置く
- 実際に Bevy ECS の Entity/Component に落とすのは `game_runtime` の責務とする

### 状態更新の単位
- （仮）FixedUpdate（固定ステップ）で物理・シミュレーションを進める
- Update では入力・UI・描画の調整を行う
- ただし、最初期は複雑化を避け、段階的に固定ステップへ寄せる